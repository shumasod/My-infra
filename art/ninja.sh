#!/bin/bash
#=========================================================
# うずまきナルト変化スクリプト
# 説明: このスクリプトはうずまきナルトのさまざまな形態をASCIIアートで表示します
# 作成日: 2025-03-22
#=========================================================

# エラーが発生したら即終了
set -e

#=========================================================
# ヘルプ表示関数
#=========================================================
show_help() {
    echo "うずまきナルト変化スクリプト"
    echo "使用方法: $0 [オプション]"
    echo "オプション:"
    echo "  -n, --normal   通常モードのナルトを表示"
    echo "  -c, --chakra   チャクラモードのナルトを表示"
    echo "  -k, --kyuubi   九尾チャクラモードのナルトを表示"
    echo "  -a, --all      全てのモードを順番に表示（デフォルト）"
    echo "  -d, --delay N  表示間隔を指定（秒数、デフォルト: 2）"
    echo "  -h, --help     このヘルプを表示"
}

#=========================================================
# ナルト描画関数
#=========================================================

# ナルト（通常モード）を描画する関数
draw_naruto() {
    echo -e "\033[33m通常モードのナルトを表示します...\033[0m"
    cat << "EOF"
                   ▄▄▄▄▄▄▄▄▄▄▄
                ▄██████████████▄ 
              ▄███████████████████▄
             ████▀▀██████████▀▀████
            ██▀▄▄▄▄▀█████████▀▄▄▄▀██
           ██ ░░▒▒░░░█████░░░▒▒░░ ██
          ██  ▒██▒ ▓█████████▓ ▒██▒  ██
          ██  ░◕█◕░ ███████ ░◕█◕░  ██
          ██  ░░▒░░▄█████████▄░░▒░░  ██
          ██▄▄▓▓▒▄██████████████▄▒▓▓▄██
           ███████████▀▀▀▀▀███████████
            ████▒▒█▀ ▄▄███▄▄ ▀█▒▒████
             ▀██▒▒█  ▀▀███▀▀  █▒▒██▀
              ▀███▄▄ ░▒███▒░ ▄▄███▀
                ▀████▄▄███▄▄████▀
                  ▀▀████████▀▀
                     ▀▀▀▀▀
EOF
}

# うずまきナルトのチャクラモードバージョンを描画する関数
draw_naruto_chakra_mode() {
    echo -e "\033[34mチャクラモードのナルトを表示します...\033[0m"
    cat << "EOF"
                   ▄▄▄▄▄▄▄▄▄▄▄
                ▄██████████████▄ 
              ▄███████████████████▄
             ████※※██████████※※████
            ██▀▄▄▄▄▀█████████▀▄▄▄▀██
           ██ ░░⊹⊹░░░█████░░░⊹⊹░░ ██
          ██  ▒██▒ ▓█████████▓ ▒██▒  ██
          ██  ░◕█◕░ ███████ ░◕█◕░  ██
          ██  ░░∴░░▄█████████▄░░∴░░  ██
          ██▄▄⊹⊹▒▄██████████████▄▒⊹⊹▄██
           ███████████▀▀▀▀▀███████████
            ████▒▒█▀ ∴∴███∴∴ ▀█▒▒████
             ▀██▒▒█  ▀▀███▀▀  █▒▒██▀
              ▀███▄▄ ░▒███▒░ ▄▄███▀
                ▀████▄▄███▄▄████▀
                  ▀▀████████▀▀
                     ▀▀▀▀▀
EOF
}

# 九尾チャクラモードバージョンを描画する関数
draw_naruto_kyuubi_mode() {
    echo -e "\033[31m九尾チャクラモードのナルトを表示します...\033[0m"
    cat << "EOF"
                   ▄▄▄▄▄▄▄▄▄▄▄
                ▄██████████████▄ 
              ▄███████████████████▄
             ████❂❂██████████❂❂████
            ██▀▄▄▄▄▀█████████▀▄▄▄▀██
           ██ ░░✧✧░░░█████░░░✧✧░░ ██
          ██  ▒██▒ ▓█████████▓ ▒██▒  ██
          ██  ░❂█❂░ ███████ ░❂█❂░  ██
          ██  ░░✺░░▄█████████▄░░✺░░  ██
          ██▄▄✧✧▒▄██████████████▄▒✧✧▄██
           ███████████▀▀▀▀▀███████████
            ████▒▒█▀ ✺✺███✺✺ ▀█▒▒████
             ▀██▒▒█  ▀▀███▀▀  █▒▒██▀
              ▀███▄▄ ░▒███▒░ ▄▄███▀
                ▀████▄▄███▄▄████▀
                  ▀▀████████▀▀
                     ▀▀▀▀▀
EOF
}

#=========================================================
# メイン処理
#=========================================================

# デフォルト値の設定
MODE="all"
DELAY=2

# コマンドライン引数の処理
while [ $# -gt 0 ]; do
  case "$1" in
    -n|--normal)
      MODE="normal"
      shift
      ;;
    -c|--chakra)
      MODE="chakra"
      shift
      ;;
    -k|--kyuubi)
      MODE="kyuubi"
      shift
      ;;
    -a|--all)
      MODE="all"
      shift
      ;;
    -d|--delay)
      # 遅延時間が数値であることを確認
      if [[ "$2" =~ ^[0-9]+$ ]]; then
        DELAY="$2"
        shift 2
      else
        echo "エラー: 遅延時間には数値を指定してください"
        exit 1
      fi
      ;;
    -h|--help)
      show_help
      exit 0
      ;;
    *)
      echo "エラー: 不明なオプション '$1'"
      show_help
      exit 1
      ;;
  esac
done

# 端末のクリア
clear

# タイトルを表示
echo -e "\033[1;36m===== うずまきナルト変化スクリプト =====\033[0m"
echo ""

# 選択されたモードに基づいて処理
case "$MODE" in
  "normal")
    # 通常モードのみ表示
    draw_naruto
    ;;
  "chakra")
    # チャクラモードのみ表示
    draw_naruto_chakra_mode
    ;;
  "kyuubi")
    # 九尾モードのみ表示
    draw_naruto_kyuubi_mode
    ;;
  "all")
    # 全モードを順番に表示
    echo -e "\033[1;35mナルトの変化を表示します！\033[0m"
    echo -e "\033[35m${DELAY}秒ごとに変化します...\033[0m"
    echo ""
    
    draw_naruto
    sleep "$DELAY"
    
    draw_naruto_chakra_mode
    sleep "$DELAY"
    
    draw_naruto_kyuubi_mode
    ;;
esac

# 完了メッセージ
echo ""
echo -e "\033[1;32mスクリプトの実行が完了しました。\033[0m"
