#!/bin/bash

# 端末の色サポートを確認
if [ -t 1 ] && [ "$(tput colors 2>/dev/null || echo 0)" -ge 8 ]; then
    GREEN='\033[0;32m'
    YELLOW='\033[1;33m'
    BLUE='\033[0;34m'
    NC='\033[0m'    # No Color
else
    GREEN=''
    YELLOW=''
    BLUE=''
    NC=''
fi

# 日本の名言・格言リスト（拡張版）
quotes=(
    "継続は力なり"
    "失敗は成功のもと"
    "笑う門には福来る"
    "石の上にも三年"
    "急がば回れ"
    "塵も積もれば山となる"
    "七転び八起き"
    "千里の道も一歩から"
    "類は友を呼ぶ"
    "光陰矢の如し"
    "井の中の蛙大海を知らず"
    "縁の下の力持ち"
    "三日坊主"
    "情けは人のためならず"
    "時は金なり"
)

# 名言の出典/解説
explanations=(
    "努力を続けることで大きな力が生まれるという教え"
    "失敗から学ぶことで成功への礎になるという知恵"
    "いつも明るく笑顔でいれば幸せがやってくるという教え"
    "物事を成し遂げるには忍耐が必要だという教え"
    "慎重に行動した方が結果的に早く目標に到達できるという知恵"
    "小さなことでも積み重ねれば大きな結果になるという教え"
    "何度失敗しても立ち上がり続けることの大切さ"
    "どんな大きな目標も一歩から始まるという教え"
    "似た者同士が自然と集まるという人間関係の真理"
    "時間の流れは速いという戒め"
    "狭い世界しか知らない人の視野の狭さを表す例え"
    "表には出ず陰で支える人の大切さを示す言葉"
    "物事を長続きせずにすぐに辞めてしまう様子"
    "他人に情けをかけることは巡り巡って自分のためになるという教え"
    "時間は貴重であるという戒め"
)

# 現在の日付から乱数の種をセット（同じ日なら同じ名言が表示される）
day_of_year=$(date +%j)
year=$(date +%Y)
seed=$((day_of_year + year))
RANDOM=$seed

# ランダムに選択
index=$((RANDOM % ${#quotes[@]}))
quote="${quotes[$index]}"
explanation="${explanations[$index]}"

# 日付を取得
date_str=$(date "+%Y年%m月%d日")

# 装飾付きで表示
echo -e "\n${BLUE}===============================${NC}"
echo -e "${YELLOW}     ${date_str}の名言     ${NC}"
echo -e "${BLUE}===============================${NC}"
echo -e "\n    ${GREEN}『${quote}』${NC}"
echo -e "\n${explanation}"
echo -e "\n${BLUE}===============================${NC}"