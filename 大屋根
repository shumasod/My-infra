#!/bin/bash

# 2025年大阪・関西万博 大屋根リング 高精度アスキーアート生成スクリプト

# 色定義
WOOD1='\033[38;5;130m'    # 濃い木色
WOOD2='\033[38;5;136m'    # 明るい木色
WOOD3='\033[38;5;94m'     # 暗い木色
BLUE='\033[38;5;33m'      # 青（海）
LIGHTBLUE='\033[38;5;117m' # 薄い青（空）
GREEN='\033[38;5;28m'     # 緑（植栽）
LIGHTGREEN='\033[38;5;156m' # 薄い緑
WHITE='\033[38;5;231m'    # 白（建物）
GRAY='\033[38;5;246m'     # グレー（道路）
YELLOW='\033[38;5;226m'   # 黄色（アクセント）
RED='\033[38;5;196m'      # 赤（日本館）
RESET='\033[0m'

# 画面クリア
clear

# ヘッダー
echo -e "${LIGHTBLUE}╔════════════════════════════════════════════════════════════════════════════════╗${RESET}"
echo -e "${LIGHTBLUE}║${YELLOW}          2025年 大阪・関西万博 「大屋根リング」 - 超精密アスキーアート         ${LIGHTBLUE}║${RESET}"
echo -e "${LIGHTBLUE}╚════════════════════════════════════════════════════════════════════════════════╝${RESET}"
echo ""

# 3D風の大屋根リング（上空からの俯瞰図）
cat << 'EOF'
                            ░░░░▒▒▒▓▓▓████████████▓▓▓▒▒▒░░░░
                      ░░▒▒▓▓████                          ████▓▓▒▒░░
                  ░▒▓███                                        ███▓▒░
              ░▒▓██        ╔════════════════════════════════╗      ██▓▒░
           ░▒▓██          ║                                  ║         ██▓▒░
         ▒▓██            ║    ┌──────────────────────┐      ║           ██▓▒
       ▒██              ║      │  🏛 中央ステージ 🏛  │       ║             ██▒
     ▒██               ║       │                      │        ║              ██▒
   ▒██                ║        │   イベント広場       │         ║               ██▒
  ▓█                 ║         │      50m×50m         │          ║                █▓
 ▓█    ╔═══木造═══╗  ║         └──────────────────────┘           ║   ╔═══木造═══╗   █▓
▓█     ║ リング  ║  ║                                              ║   ║ リング  ║    █▓
█▓     ║ 構造体  ║  ║  [🇯🇵]        [🇺🇸]        [🇫🇷]           ║   ║ 構造体  ║    ▓█
█      ║         ║  ║  日本館       米国館       仏国館            ║   ║         ║     █
█      ║ 幅30m   ║  ║   ▓▓▓         ▓▓▓         ▓▓▓              ║   ║ 高さ    ║     █
█      ║         ║  ║                                              ║   ║ 20m     ║     █
█      ║ 飲食店  ║  ║         ┌─ 通路 ─┐   ┌─ 通路 ─┐         ║   ║         ║     █
█      ║ ショップ ║  ║         │▓▓▓▓▓▓▓│   │▓▓▓▓▓▓▓│         ║   ║ 展示    ║     █
█▓     ║ 休憩所  ║  ║         └────────┘   └────────┘         ║   ║ スペース ║    ▓█
█▓     ║         ║  ║                                              ║   ║         ║    ▓█
▓█     ║ 木材量  ║  ║  [🇩🇪]        [🇮🇹]        [🇨🇳]           ║   ║ カフェ  ║    █▓
▓█     ║24,000㎥ ║  ║  独国館       伊国館       中国館            ║   ║         ║    █▓
 ▓█    ╚═══════╗ ║  ║   ▓▓▓         ▓▓▓         ▓▓▓              ║   ║ レスト  ║   █▓
  ▓█           ║ ║  ║                                              ║   ║ ラン    ║  █▓
   ▒██         ║ ║  ║    🌳 🌳      企業館       🌳 🌳           ║   ╚═══════╝ ██▒
     ▒██       ║ ║  ║    緑地       ██████       緑地             ║            ██▒
       ▒██     ║ ║  ║              ████████                       ║          ██▒
         ▒▓██  ║ ║  ║                                              ║       ██▓▒
           ░▒▓██║ ║  ║         テーマ展示エリア                   ║    ██▓▒░
              ░▒║ ║  ║         ▓▓▓▓▓▓▓▓▓▓▓▓▓                     ║  ██▓▒░
                 ║ ║  ║                                              ║
                 ║ ║  ║    [🇰🇷]  [🇬🇧]  [🇪🇸]  [🇦🇺]  [🇧🇷]   ║
                  ║ ║  ║    韓国   英国   西国   豪州   伯国        ║
                  ║ ║  ╚════════════════════════════════════════════╝
                   ║ ║
                   ║ ║     🌊🌊🌊 大阪湾 (夢洲) 🌊🌊🌊
                    ╚═══════════════════════════════════════╝

EOF

echo ""
echo -e "${LIGHTBLUE}════════════════════════════════════════════════════════════════════════════════${RESET}"
echo ""

# 横から見た断面図
echo -e "${YELLOW}【 大屋根リング - 横断面図（木造構造の詳細）】${RESET}"
echo ""

cat << 'EOF'
                    ☁️  ☁️        ☁️         ☁️  ☁️
                          空（高さ約20m）
           
    外側                                                        内側
     ↓                                                          ↓
    
     ╱╲╱╲╱╲╱╲  ← 屋根部分（木材パネル）
    ╱      ╲╱      ╲╱      ╲╱      ╲╱      ╲╱      ╲
   ║▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓║
   ║█████████████████████████████████████████████████║  ← 木造梁構造
   ║▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓║
   ║  [店舗]    [通路]    [休憩所]    [カフェ]     ║  ← 施設フロア
   ║   ▓▓▓       ═══       ▓▓▓        ▓▓▓        ║
   ║                                                  ║
   ║    👤👤      →→→     👤☕         👤👤      ║  ← 人の流れ
   ║                                                  ║
   ╚══════════════════════════════════════════════════╝
     │                                              │
     │  ← 幅 約30m →                               │
     │                                              │
   支柱構造（木材+鋼材ハイブリッド）              支柱構造

  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  ← 地面
  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

EOF

echo ""
echo -e "${LIGHTBLUE}════════════════════════════════════════════════════════════════════════════════${RESET}"
echo ""

# 詳細スペック
echo -e "${YELLOW}【 大屋根リング - 詳細仕様 】${RESET}"
echo ""
echo -e "${WOOD1}■ 構造仕様${RESET}"
echo -e "  • 全周長：約2km（世界最大級の木造建築物）"
echo -e "  • 外径：約615m"
echo -e "  • 内径：約555m"
echo -e "  • リング幅：約30m"
echo -e "  • 最高部高さ：約20m"
echo -e "  • 木材使用量：約24,000㎥（国産材+海外産材）"
echo ""
echo -e "${WOOD2}■ 木材構成${RESET}"
echo -e "  • 構造用集成材（GLT）: 主要構造部"
echo -e "  • CLT（直交集成板）: 床・壁パネル"
echo -e "  • 国産材: 約40%（地域産木材の活用）"
echo ""
echo -e "${GREEN}■ 施設機能${RESET}"
echo -e "  • 飲食店：約50店舗"
echo -e "  • 物販店：約30店舗"
echo -e "  • 休憩スペース：複数箇所"
echo -e "  • トイレ・授乳室：各所配置"
echo -e "  • 展示スペース：テーマ展示"
echo ""
echo -e "${BLUE}■ 環境配慮${RESET}"
echo -e "  • CO2削減：木材利用で約10,000t削減"
echo -e "  • 自然換気：リング構造で風の通り道確保"
echo -e "  • 日陰提供：来場者の快適性向上"
echo -e "  • 太陽光発電：屋根面に設置"
echo ""
echo -e "${LIGHTBLUE}════════════════════════════════════════════════════════════════════════════════${RESET}"
echo ""

# 動的な円形リング描画（数学的計算）
echo -e "${YELLOW}【 リアルタイム円形描画（数学的レンダリング）】${RESET}"
echo ""

OUTER_R=30
INNER_R=22

for ((y=-$OUTER_R; y<=$OUTER_R; y++)); do
    printf "  "
    for ((x=-$OUTER_R*2; x<=$OUTER_R*2; x++)); do
        # アスペクト比補正（縦横比2:1）
        dist=$(echo "scale=2; sqrt(($x/2)^2 + $y^2)" | bc -l)
        dist_int=$(printf "%.0f" "$dist")
        
        # 角度計算（木材パターン変化用）
        if [ $x -ne 0 ] || [ $y -ne 0 ]; then
            angle=$(echo "scale=2; a=a($y/($x/2)); if(a<0) a=a+3.14159; a" | bc -l 2>/dev/null)
            angle_int=$(printf "%.0f" "$(echo "$angle * 10" | bc -l 2>/dev/null)")
        else
            angle_int=0
        fi
        
        if [ $dist_int -le $OUTER_R ] && [ $dist_int -ge $INNER_R ]; then
            # リング部分 - 木材テクスチャ
            pattern=$((angle_int % 4))
            case $pattern in
                0) echo -ne "${WOOD1}▓${RESET}" ;;
                1) echo -ne "${WOOD2}▒${RESET}" ;;
                2) echo -ne "${WOOD3}█${RESET}" ;;
                3) echo -ne "${WOOD1}░${RESET}" ;;
            esac
        elif [ $dist_int -lt $INNER_R ]; then
            # 内側エリア - 会場
            if [ $dist_int -lt 3 ]; then
                echo -ne "${YELLOW}◆${RESET}"  # 中央ステージ
            elif [ $((dist_int % 5)) -eq 0 ]; then
                echo -ne "${GRAY}·${RESET}"  # 通路
            elif [ $((y % 8)) -eq 0 ] && [ $((x % 16)) -eq 0 ]; then
                echo -ne "${WHITE}▪${RESET}"  # パビリオン
            else
                echo -ne " "
            fi
        else
            # 外側 - 海
            if [ $dist_int -lt $((OUTER_R + 5)) ]; then
                echo -ne "${LIGHTBLUE}~${RESET}"
            else
                echo -ne " "
            fi
        fi
    done
    echo ""
done

echo ""
echo -e "${LIGHTBLUE}════════════════════════════════════════════════════════════════════════════════${RESET}"
echo ""
echo -e "${RED}  🎌 テーマ：「いのち輝く未来社会のデザイン」${RESET}"
echo -e "${GREEN}  🌍 開催期間：2025年4月13日～10月13日${RESET}"
echo -e "${BLUE}  📍 会場：大阪府大阪市此花区夢洲${RESET}"
echo ""
echo -e "${YELLOW}✨ ようこそ！2025年大阪・関西万博へ！ ✨${RESET}"
echo ""
